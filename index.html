<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Advanced, concise, flexible notification upgrade for Home Assistant"><link href=https://supernotify.rhizomatics.github.io/ rel=canonical><link href=HASS_config_tips/ rel=next><link rel=icon href=assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.22"><title>Home Assistant Supernotify</title><link rel=stylesheet href=assets/stylesheets/main.84d31ad4.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=assets/_mkdocstrings.css><link rel=stylesheet href=assets/mkdocs_pagetree_plugin.css><script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#supernotify class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=. title="Home Assistant Supernotify" class="md-header__button md-logo" aria-label="Home Assistant Supernotify" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Home Assistant Supernotify </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Home </span> </div> </div> </div> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/rhizomatics/supernotify title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> rhizomatics/supernotify </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=. title="Home Assistant Supernotify" class="md-nav__button md-logo" aria-label="Home Assistant Supernotify" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> Home Assistant Supernotify </label> <div class=md-nav__source> <a href=https://github.com/rhizomatics/supernotify title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> rhizomatics/supernotify </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Home </span> <span class="md-nav__icon md-icon"></span> </label> <a href=. class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Home </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#features class=md-nav__link> <span class=md-ellipsis> Features </span> </a> </li> <li class=md-nav__item> <a href=#installation class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=#usage class=md-nav__link> <span class=md-ellipsis> Usage </span> </a> <nav class=md-nav aria-label=Usage> <ul class=md-nav__list> <li class=md-nav__item> <a href=#minimal class=md-nav__link> <span class=md-ellipsis> Minimal </span> </a> </li> <li class=md-nav__item> <a href=#more-features class=md-nav__link> <span class=md-ellipsis> More features </span> </a> </li> <li class=md-nav__item> <a href=#templated class=md-nav__link> <span class=md-ellipsis> Templated </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#delivery-methods class=md-nav__link> <span class=md-ellipsis> Delivery Methods </span> </a> <nav class=md-nav aria-label="Delivery Methods"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#mobile-push class=md-nav__link> <span class=md-ellipsis> Mobile Push </span> </a> </li> <li class=md-nav__item> <a href=#chime class=md-nav__link> <span class=md-ellipsis> Chime </span> </a> <nav class=md-nav aria-label=Chime> <ul class=md-nav__list> <li class=md-nav__item> <a href=#switch-and-siren class=md-nav__link> <span class=md-ellipsis> Switch and Siren </span> </a> </li> <li class=md-nav__item> <a href=#scripts class=md-nav__link> <span class=md-ellipsis> Scripts </span> </a> </li> <li class=md-nav__item> <a href=#alexa-media-player class=md-nav__link> <span class=md-ellipsis> Alexa Media Player </span> </a> </li> <li class=md-nav__item> <a href=#alexa-devices class=md-nav__link> <span class=md-ellipsis> Alexa Devices </span> </a> </li> <li class=md-nav__item> <a href=#example class=md-nav__link> <span class=md-ellipsis> Example </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sms class=md-nav__link> <span class=md-ellipsis> SMS </span> </a> </li> <li class=md-nav__item> <a href=#generic class=md-nav__link> <span class=md-ellipsis> Generic </span> </a> </li> <li class=md-nav__item> <a href=#email class=md-nav__link> <span class=md-ellipsis> Email </span> </a> </li> <li class=md-nav__item> <a href=#media-image class=md-nav__link> <span class=md-ellipsis> Media Image </span> </a> </li> <li class=md-nav__item> <a href=#alexa class=md-nav__link> <span class=md-ellipsis> Alexa </span> </a> </li> <li class=md-nav__item> <a href=#alexa-media-player_1 class=md-nav__link> <span class=md-ellipsis> Alexa Media Player </span> </a> </li> <li class=md-nav__item> <a href=#persistent class=md-nav__link> <span class=md-ellipsis> Persistent </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#media-support class=md-nav__link> <span class=md-ellipsis> Media support </span> </a> </li> <li class=md-nav__item> <a href=#flexible-configuration class=md-nav__link> <span class=md-ellipsis> Flexible Configuration </span> </a> </li> <li class=md-nav__item> <a href=#setup class=md-nav__link> <span class=md-ellipsis> Setup </span> </a> <nav class=md-nav aria-label=Setup> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cameras class=md-nav__link> <span class=md-ellipsis> Cameras </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#delivery-method-options class=md-nav__link> <span class=md-ellipsis> Delivery Method Options </span> </a> </li> <li class=md-nav__item> <a href=#snoozing class=md-nav__link> <span class=md-ellipsis> Snoozing </span> </a> <nav class=md-nav aria-label=Snoozing> <ul class=md-nav__list> <li class=md-nav__item> <a href=#mobile-actions class=md-nav__link> <span class=md-ellipsis> Mobile Actions </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#scenarios class=md-nav__link> <span class=md-ellipsis> Scenarios </span> </a> <nav class=md-nav aria-label=Scenarios> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example-scenarios class=md-nav__link> <span class=md-ellipsis> Example Scenarios </span> </a> </li> <li class=md-nav__item> <a href=#additional-variables-for-conditions class=md-nav__link> <span class=md-ellipsis> Additional variables for conditions </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#tips class=md-nav__link> <span class=md-ellipsis> Tips </span> </a> <nav class=md-nav aria-label=Tips> <ul class=md-nav__list> <li class=md-nav__item> <a href=#message-formatting class=md-nav__link> <span class=md-ellipsis> Message formatting </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=HASS_config_tips/ class=md-nav__link> <span class=md-ellipsis> Home Assistant Notification General Tips </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> Developer </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Developer </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=developer/classes/ class=md-nav__link> <span class=md-ellipsis> Core Classes </span> </a> </li> <li class=md-nav__item> <a href=developer/coverage/ class=md-nav__link> <span class=md-ellipsis> Coverage </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Example configs </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Example configs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=example%20configs/maximal_example/ class=md-nav__link> <span class=md-ellipsis> Maximal Configuration </span> </a> </li> <li class=md-nav__item> <a href=example%20configs/minimal_example/ class=md-nav__link> <span class=md-ellipsis> Minimal Configuration </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Recipes </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Recipes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=recipes/ class=md-nav__link> <span class=md-ellipsis> Index </span> </a> </li> <li class=md-nav__item> <a href=recipes/alexa_whisper/ class=md-nav__link> <span class=md-ellipsis> Recipe - Alex Whispering </span> </a> </li> <li class=md-nav__item> <a href=recipes/appdaemon_cameras/ class=md-nav__link> <span class=md-ellipsis> Recipe - AppDaemon Cameras </span> </a> </li> <li class=md-nav__item> <a href=recipes/bedtime/ class=md-nav__link> <span class=md-ellipsis> Recipe - Bedtime </span> </a> </li> <li class=md-nav__item> <a href=recipes/content_escalation/ class=md-nav__link> <span class=md-ellipsis> Recipe - Content Escalation </span> </a> </li> <li class=md-nav__item> <a href=recipes/except_scenario/ class=md-nav__link> <span class=md-ellipsis> Recipe - Except Scenario </span> </a> </li> <li class=md-nav__item> <a href=recipes/frigate_emails/ class=md-nav__link> <span class=md-ellipsis> Recipe - Frigate Emails </span> </a> </li> <li class=md-nav__item> <a href=recipes/home_alone/ class=md-nav__link> <span class=md-ellipsis> Recipe - Home Alone </span> </a> </li> <li class=md-nav__item> <a href=recipes/mqtt/ class=md-nav__link> <span class=md-ellipsis> Recipe - MQTT </span> </a> </li> <li class=md-nav__item> <a href=recipes/restart_email/ class=md-nav__link> <span class=md-ellipsis> Recipe - Home Assistant Restart </span> </a> </li> <li class=md-nav__item> <a href=recipes/seasonal_greetings/ class=md-nav__link> <span class=md-ellipsis> Recipe - Seasonal Greetings </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Schemas </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Schemas </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=schemas/Notify%20Action%20Data/ class=md-nav__link> <span class=md-ellipsis> Notify Action Data </span> </a> </li> <li class=md-nav__item> <a href=schemas/Platform%20Configuration/ class=md-nav__link> <span class=md-ellipsis> Platform Configuration </span> </a> </li> <li class=md-nav__item> <a href=schemas/Scenario%20Definition/ class=md-nav__link> <span class=md-ellipsis> Scenario Definition </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#features class=md-nav__link> <span class=md-ellipsis> Features </span> </a> </li> <li class=md-nav__item> <a href=#installation class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=#usage class=md-nav__link> <span class=md-ellipsis> Usage </span> </a> <nav class=md-nav aria-label=Usage> <ul class=md-nav__list> <li class=md-nav__item> <a href=#minimal class=md-nav__link> <span class=md-ellipsis> Minimal </span> </a> </li> <li class=md-nav__item> <a href=#more-features class=md-nav__link> <span class=md-ellipsis> More features </span> </a> </li> <li class=md-nav__item> <a href=#templated class=md-nav__link> <span class=md-ellipsis> Templated </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#delivery-methods class=md-nav__link> <span class=md-ellipsis> Delivery Methods </span> </a> <nav class=md-nav aria-label="Delivery Methods"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#mobile-push class=md-nav__link> <span class=md-ellipsis> Mobile Push </span> </a> </li> <li class=md-nav__item> <a href=#chime class=md-nav__link> <span class=md-ellipsis> Chime </span> </a> <nav class=md-nav aria-label=Chime> <ul class=md-nav__list> <li class=md-nav__item> <a href=#switch-and-siren class=md-nav__link> <span class=md-ellipsis> Switch and Siren </span> </a> </li> <li class=md-nav__item> <a href=#scripts class=md-nav__link> <span class=md-ellipsis> Scripts </span> </a> </li> <li class=md-nav__item> <a href=#alexa-media-player class=md-nav__link> <span class=md-ellipsis> Alexa Media Player </span> </a> </li> <li class=md-nav__item> <a href=#alexa-devices class=md-nav__link> <span class=md-ellipsis> Alexa Devices </span> </a> </li> <li class=md-nav__item> <a href=#example class=md-nav__link> <span class=md-ellipsis> Example </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sms class=md-nav__link> <span class=md-ellipsis> SMS </span> </a> </li> <li class=md-nav__item> <a href=#generic class=md-nav__link> <span class=md-ellipsis> Generic </span> </a> </li> <li class=md-nav__item> <a href=#email class=md-nav__link> <span class=md-ellipsis> Email </span> </a> </li> <li class=md-nav__item> <a href=#media-image class=md-nav__link> <span class=md-ellipsis> Media Image </span> </a> </li> <li class=md-nav__item> <a href=#alexa class=md-nav__link> <span class=md-ellipsis> Alexa </span> </a> </li> <li class=md-nav__item> <a href=#alexa-media-player_1 class=md-nav__link> <span class=md-ellipsis> Alexa Media Player </span> </a> </li> <li class=md-nav__item> <a href=#persistent class=md-nav__link> <span class=md-ellipsis> Persistent </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#media-support class=md-nav__link> <span class=md-ellipsis> Media support </span> </a> </li> <li class=md-nav__item> <a href=#flexible-configuration class=md-nav__link> <span class=md-ellipsis> Flexible Configuration </span> </a> </li> <li class=md-nav__item> <a href=#setup class=md-nav__link> <span class=md-ellipsis> Setup </span> </a> <nav class=md-nav aria-label=Setup> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cameras class=md-nav__link> <span class=md-ellipsis> Cameras </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#delivery-method-options class=md-nav__link> <span class=md-ellipsis> Delivery Method Options </span> </a> </li> <li class=md-nav__item> <a href=#snoozing class=md-nav__link> <span class=md-ellipsis> Snoozing </span> </a> <nav class=md-nav aria-label=Snoozing> <ul class=md-nav__list> <li class=md-nav__item> <a href=#mobile-actions class=md-nav__link> <span class=md-ellipsis> Mobile Actions </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#scenarios class=md-nav__link> <span class=md-ellipsis> Scenarios </span> </a> <nav class=md-nav aria-label=Scenarios> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example-scenarios class=md-nav__link> <span class=md-ellipsis> Example Scenarios </span> </a> </li> <li class=md-nav__item> <a href=#additional-variables-for-conditions class=md-nav__link> <span class=md-ellipsis> Additional variables for conditions </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#tips class=md-nav__link> <span class=md-ellipsis> Tips </span> </a> <nav class=md-nav aria-label=Tips> <ul class=md-nav__list> <li class=md-nav__item> <a href=#message-formatting class=md-nav__link> <span class=md-ellipsis> Message formatting </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <p><a href=https://github.com/rhizomatics><img alt="Rhizomatics Open Source" src="https://avatars.githubusercontent.com/u/162821163?s=96&v=4"></a></p> <h1 id=supernotify>Supernotify<a class=headerlink href=#supernotify title="Permanent link">&para;</a></h1> <p><a href=https://github.com/rhizomatics/supernotify><img alt=Ruff src="https://img.shields.io/endpoint?url=https://raw.githubusercontent.com/astral-sh/ruff/main/assets/badge/v2.json"></a> <a href=https://results.pre-commit.ci/latest/github/rhizomatics/supernotify/main><img alt="pre-commit.ci status" src=https://results.pre-commit.ci/badge/github/rhizomatics/supernotify/main.svg></a> <a href=https://github.com/rhizomatics/supernotify/actions/workflows/deploy.yml><img alt="Github Deploy" src="https://github.com/rhizomatics/supernotify/actions/workflows/deploy.yml/badge.svg?branch=main"></a> <a href=https://github.com/rhizomatics/supernotify/actions/workflows/github-code-scanning/codeql><img alt=CodeQL src=https://github.com/rhizomatics/supernotify/actions/workflows/github-code-scanning/codeql/badge.svg></a> <a href=https://github.com/rhizomatics/supernotify/actions/workflows/dependabot/dependabot-updates><img alt="Dependabot Updates" src=https://github.com/rhizomatics/supernotify/actions/workflows/dependabot/dependabot-updates/badge.svg></a></p> <p>Easy multi-channel rich notifications.</p> <p>An extension of HomeAssistant&rsquo;s built in <code>notify.notify</code> that can greatly simplify multiple notification channels and complex scenarios, including multi-channel notifications, conditional notifications, mobile actions, chimes and template based HTML emails. Can substitute directly for existing notifications to mobile push, email, etc.</p> <h2 id=features>Features<a class=headerlink href=#features title="Permanent link">&para;</a></h2> <ul> <li>Send out notifications on multiple channels from one call, removing repetitive config and code from automations</li> <li>Standard <code>notify</code> implementation so easy to switch out for other notify implementations, or <code>notify.group</code></li> <li>Conditional notification using standard Home Assistant <code>condition</code> config</li> <li>Reuse chunks of conditional logic as <em>scenarios</em> across multiple notifications</li> <li>Streamlined conditionals for selecting channels per priority and scenario, or for sending only to people in or out of the property</li> <li>Use <code>person</code> for all notification configuration, regardless of channel</li> <li>Unified Person model currently missing from Home Assistant</li> <li>HTML email templates, using Jinja2, with a general default template supplied</li> <li>Single set up of consistent mobile actions across multiple notifications</li> <li>Flexible image snapshots, supporting cameras, MQTT Images and image URLs.</li> <li>Cameras can be repositioned using PTZ before and after a snapshot is taken.</li> <li>Defaulting of targets and data in static config, and overridable at notification time</li> <li>Generic support for any notification method</li> <li>Plus canned delivery methods to simplify common cases, especially for tricky ones like Apple Push</li> <li>Reloadable configuration</li> <li>Tunable duplicate notification detection</li> <li>Well-behaved <code>notify</code> extension, so can use data templating, <code>notify.group</code> and other notify features.</li> <li>Refactor out repetitive configuration for ease of maintenance</li> <li>Debugging support,</li> <li>Optional archival of message structures to file system and/or MQTT topic</li> <li>Additional actions ( previously known as services ) to pull back live configuration or last known notification details.</li> </ul> <h2 id=installation>Installation<a class=headerlink href=#installation title="Permanent link">&para;</a></h2> <ul> <li>Add git repo to HACS as custom repo</li> <li>Select <em>SuperNotify</em> in the list of available integrations in HACS and install</li> <li>Add a <code>notify</code> config for the <code>supernotify</code> integration, see <code>examples</code> folder</li> <li>In order to use email attachments, e.g. from camera snapshot or a <code>snapshot_url</code>, you must set the <code>allowlist_external_dirs</code> in main HomeAssistant config to the same as <code>media_path</code> in the supernotify configuration</li> </ul> <h2 id=usage>Usage<a class=headerlink href=#usage title="Permanent link">&para;</a></h2> <h3 id=minimal>Minimal<a class=headerlink href=#minimal title="Permanent link">&para;</a></h3> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>action</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">notify.supernotifier</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=w>    </span><span class=nt>data</span><span class=p>:</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=w>        </span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Security Notification</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=w>        </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=s>&#39;{{state_attr(sensor,&quot;friendly_name&quot;)}}</span><span class=nv> </span><span class=s>triggered&#39;</span>
</span></code></pre></div> <h3 id=more-features>More features<a class=headerlink href=#more-features title="Permanent link">&para;</a></h3> <p><div class="language-yaml highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>action</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">notify.supernotifier</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=w>    </span><span class=nt>data</span><span class=p>:</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=w>        </span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Security Notification</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=w>        </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=s>&#39;{{state_attr(sensor,&quot;friendly_name&quot;)}}</span><span class=nv> </span><span class=s>triggered&#39;</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=w>        </span><span class=nt>target</span><span class=p>:</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">person.jim_bob</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">person.neighbour</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=w>        </span><span class=nt>priority</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">high</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=w>        </span><span class=nt>apply_scenarios</span><span class=p>:</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">home_security</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">garden</span>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a><span class=w>        </span><span class=nt>constrain_scenarios</span><span class=p>:</span>
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a><span class=w>        </span><span class=nt>delivery</span><span class=p>:</span>
</span><span id=__span-1-14><a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a><span class=w>            </span><span class=nt>mobile_push</span><span class=p>:</span>
</span><span id=__span-1-15><a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a><span class=w>                </span><span class=nt>data</span><span class=p>:</span>
</span><span id=__span-1-16><a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a><span class=w>                    </span><span class=nt>clickAction</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">https://my.home.net/dashboard</span>
</span></code></pre></div> Note here that the <code>clickAction</code> is defined only on the <code>mobile_push</code> delivery. However its also possible to define everything at the top level <code>data</code> section and let the individual deliveries pick out the attributes they need. This is helpful either if you don&rsquo;t care about fine tuning delivery configurations, or using existing notification blueprints, such as the popular <a href=https://github.com/SgtBatten/HA_blueprints/tree/main/Frigate%20Camera%20Notifications>Frigate Camera Notification Blueprints</a>.</p> <h3 id=templated>Templated<a class=headerlink href=#templated title="Permanent link">&para;</a></h3> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>action</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">notify.supernotifier</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=w>    </span><span class=nt>data</span><span class=p>:</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=w>        </span><span class=nt>message</span><span class=p>:</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=w>    </span><span class=nt>data_template</span><span class=p>:</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=w>        </span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Tank Notification</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=w>        </span><span class=nt>message</span><span class=p>:</span><span class=w>  </span><span class=s>&quot;Fuel</span><span class=nv> </span><span class=s>tank</span><span class=nv> </span><span class=s>depth</span><span class=nv> </span><span class=s>is</span><span class=nv> </span><span class=s>{{</span><span class=nv> </span><span class=s>state_attr(&#39;sensor.tank&#39;,</span><span class=nv> </span><span class=s>&#39;depth&#39;)</span><span class=nv> </span><span class=s>}}&quot;</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=w>        </span><span class=nt>data</span><span class=p>:</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=w>            </span><span class=nt>priority</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">{</span><span class=err>%</span><span class=w> </span><span class=nv>if</span><span class=w> </span><span class="p p-Indicator">{{</span><span class=w> </span><span class=nv>state_attr(&#39;sensor.tank&#39;</span><span class="p p-Indicator">,</span><span class=w> </span><span class=s>&#39;depth&#39;</span><span class=nv>)</span><span class=w> </span><span class="p p-Indicator">}}</span><span class=nv>&lt;10</span><span class=w> </span><span class="p p-Indicator">}</span><span class="l l-Scalar l-Scalar-Plain">critical{% else %}medium {% endif %}</span>
</span></code></pre></div> <p>See the <a href=recipes/ >Recipes</a> for more ideas.</p> <h2 id=delivery-methods>Delivery Methods<a class=headerlink href=#delivery-methods title="Permanent link">&para;</a></h2> <h3 id=mobile-push>Mobile Push<a class=headerlink href=#mobile-push title="Permanent link">&para;</a></h3> <p>Send a push message out, with option for camera integration, mobile actions, and translate general priority to Apple specific push priority.</p> <p>Some functionality may also work with Android push, though has not been tested.</p> <p>Although Supernotify will automatically set most useful mobile push options, its also possible to directly set them, as in this example:</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>action</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">notify.supernotifier</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=w>    </span><span class=nt>data</span><span class=p>:</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=w>      </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Movement at garden gate</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=w>      </span><span class=nt>data</span><span class=p>:</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=w>        </span><span class=nt>priority</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">high</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=w>        </span><span class=nt>media</span><span class=p>:</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=w>          </span><span class=nt>camera_entity_id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">camera.porch</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=w>          </span><span class=nt>camera_ptz_preset</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">garden_gate</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=w>        </span><span class=nt>action_groups</span><span class=p>:</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">security_actions</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a><span class=w>        </span><span class=nt>delivery</span><span class=p>:</span>
</span><span id=__span-3-12><a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a><span class=w>          </span><span class=nt>mobile_push</span><span class=p>:</span>
</span><span id=__span-3-13><a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a><span class=w>            </span><span class=nt>data</span><span class=p>:</span>
</span><span id=__span-3-14><a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a><span class=w>              </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class=s>&quot;backyard-motion-detected&quot;</span>
</span><span id=__span-3-15><a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a><span class=w>              </span><span class=nt>presentation_options</span><span class=p>:</span>
</span><span id=__span-3-16><a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a><span class=w>                </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">alert</span>
</span><span id=__span-3-17><a id=__codelineno-3-17 name=__codelineno-3-17 href=#__codelineno-3-17></a><span class=w>                </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">badge</span>
</span><span id=__span-3-18><a id=__codelineno-3-18 name=__codelineno-3-18 href=#__codelineno-3-18></a><span class=w>              </span><span class=nt>push</span><span class=p>:</span>
</span><span id=__span-3-19><a id=__codelineno-3-19 name=__codelineno-3-19 href=#__codelineno-3-19></a><span class=w>                </span><span class=nt>sound</span><span class=p>:</span>
</span><span id=__span-3-20><a id=__codelineno-3-20 name=__codelineno-3-20 href=#__codelineno-3-20></a><span class=w>                  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s>&quot;US-EN-Alexa-Motion-Detected-Generic.wav&quot;</span>
</span><span id=__span-3-21><a id=__codelineno-3-21 name=__codelineno-3-21 href=#__codelineno-3-21></a><span class=w>                  </span><span class=nt>volume</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">1.0</span>
</span></code></pre></div> <h3 id=chime>Chime<a class=headerlink href=#chime title="Permanent link">&para;</a></h3> <p>Notify using a sound of your choosing - for example a doorbell, barking dog, siren or recording. This works with a variety of devices, from cheap 433Mhz doorbell units to Amazon Echo devices.</p> <p>You can mix and match any of these devices, and also map their different implementations to the same logical sound using simple alias names, for example <code>doorbell</code>. Then within notifications, you can ask for a doorbell sound and it will generated by each device in its own way. Even if you don&rsquo;t have a variety of devices, this also keeps complicated chime names (like Amazon tune paths ) out of your automation code. See the Example code at the bottom of this section.</p> <h4 id=switch-and-siren>Switch and Siren<a class=headerlink href=#switch-and-siren title="Permanent link">&para;</a></h4> <p>Provide a list of <code>switch</code>, <code>siren</code> entities to use for chimes and it will call the <code>switch.turn_on</code> or <code>siren.turn_on</code> calls as appropriate.</p> <p>Switches are simple binary affairs, however some sirens can also have a choice of tones, volume level and durations. The following generic chime tunings are passed to the siren.</p> <table> <thead> <tr> <th>Chime Option</th> <th>Siren Data Field</th> </tr> </thead> <tbody> <tr> <td>chime_tune</td> <td>tone</td> </tr> <tr> <td>chime_volume</td> <td>volume</td> </tr> <tr> <td>chime_duration</td> <td>duration</td> </tr> </tbody> </table> <p>Supernotify passes on the <code>data</code> structure exactly as it is on the regular Home Assistant actions, see the documentation for those integrations below:</p> <ul> <li><a href=https://www.home-assistant.io/integrations/siren/ >Siren</a></li> <li><a href=https://www.home-assistant.io/integrations/switch/ >Switch</a></li> </ul> <p>Switches are a little special, in that though they are binary on/off in Home Assistant, in practice even some of the cheap 433Mhz ones can take an additional melody code, its common to have different melodies represented by separate <code>switch</code> entities for the same underlying devices as in this example Byron device using the <a href=https://www.home-assistant.io/integrations/rflink/ >RFLink</a> integration.</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>platform</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">rflink</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=w>  </span><span class=nt>devices</span><span class=p>:</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=w>    </span><span class=nt>byron_0000_01</span><span class=p>:</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Chime Tubular</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=w>    </span><span class=nt>byron_0000_02</span><span class=p>:</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Chime Morning Dew</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=w>    </span><span class=nt>byron_0000_03</span><span class=p>:</span>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a><span class=w>      </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Chime Big Ben</span>
</span></code></pre></div> <h4 id=scripts>Scripts<a class=headerlink href=#scripts title="Permanent link">&para;</a></h4> <p>Provide one or more <code>script</code> entity IDs, for example, <code>script.call_bell_api</code>.</p> <p>Each script will be called with:</p> <ul> <li><code>message</code> - from the notification</li> <li><code>title</code> - optional on the notification</li> <li><code>chime_tune</code> - name of the chime if supplied</li> <li><code>chime_duration</code> - where passed in action data or defined in chime alias</li> <li><code>chime_volume</code> - where passed in action data or defined in chime alias</li> </ul> <p>Additional variables can be configured when defining an alias using the <code>variables</code> attribute in <code>data</code>.</p> <p>See also <a href=https://www.home-assistant.io/integrations/script/ >Script</a> in HomeAssistant documentation.</p> <h4 id=alexa-media-player>Alexa Media Player<a class=headerlink href=#alexa-media-player title="Permanent link">&para;</a></h4> <p>NOTE: Requires the <a href=https://github.com/alandtse/alexa_media_player><code>Alexa Media Player</code></a> integration to be installed on Home Assistant.</p> <p>Supply <code>media_player</code> entities as targets and this method will make appropriate <code>media_player.play_media</code> action calls to them, passing the sound name provided in <code>tune</code> field.</p> <p>See https://github.com/alandtse/alexa_media_player/wiki#known-available-sounds for a list of known tunes that work with Alexa devices.</p> <h4 id=alexa-devices>Alexa Devices<a class=headerlink href=#alexa-devices title="Permanent link">&para;</a></h4> <p>This supports the newer built-in <a href=https://www.home-assistant.io/integrations/alexa_devices/ >Alexa Devices</a> integration introduced in 2025.</p> <p>The list of sounds can be found on the <a href="https://alexa.amazon.com/api/behaviors/entities?skillId=amzn1.ask.1p.sound">Alexa API</a>, after authenticating, or on the <a href=https://github.com/home-assistant/core/blob/dev/homeassistant/components/alexa_devices/strings.json#L105>Home Assistant source code</a>. It includes a generous helping of Halloween specific sounds.</p> <p>One oddity of this integration is that although it generates traditional entity IDs for notifying Alexa devices, sending a sound ( or command ) requires a long and obscure <code>device_id</code> (a 32 character random hexadecimal pseudo-UUID). While you can find these from the <em>Devices</em> section of the <em>Alexa Devices</em> integration config, or using the <em>Action</em> feature of <em>Developer Tools</em> and switching to yaml mode, the easiest way is to <strong>automatically register</strong> all Alexa devices by using <code>device_discovery: True</code> on the method configuration. (Sometimes you may end up with odd devices like headphones or firesticks that Alexa knows about but don&rsquo;t make sense for HomeAssistant usage - these can be disabled from the <em>Alexa Devices</em> integration config).</p> <h4 id=example>Example<a class=headerlink href=#example title="Permanent link">&para;</a></h4> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=nt>methods</span><span class=p>:</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=w>  </span><span class=nt>chime</span><span class=p>:</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=w>    </span><span class=nt>device_discovery</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=w>    </span><span class=nt>target</span><span class=p>:</span>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">media_player.kitchen_echo</span>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">media_player.bedroom</span>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ffff0000eeee1111dddd2222cccc3333</span><span class=w> </span><span class=c1># Alexa Devices device_id</span>
</span><span id=__span-5-8><a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a><span class=w>    </span><span class=nt>options</span><span class=p>:</span>
</span><span id=__span-5-9><a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a><span class=w>        </span><span class=nt>chime_aliases</span><span class=p>:</span>
</span><span id=__span-5-10><a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a><span class=w>              </span><span class=nt>doorbell</span><span class=p>:</span><span class=w> </span><span class=c1>#alias</span>
</span><span id=__span-5-11><a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a><span class=w>                </span><span class=nt>alexa_devices</span><span class=p>:</span><span class=w> </span><span class=c1># integration domain or label ( if label then domain must be a key in the config )</span>
</span><span id=__span-5-12><a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a><span class=w>                    </span><span class=nt>tune</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">amzn_sfx_cat_meow_1x_01</span>
</span><span id=__span-5-13><a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a><span class=w>                </span><span class=nt>media_player</span><span class=p>:</span>
</span><span id=__span-5-14><a id=__codelineno-5-14 name=__codelineno-5-14 href=#__codelineno-5-14></a><span class=w>                    </span><span class=c1># resolves to media_player/play_media with sound configured for this path</span>
</span><span id=__span-5-15><a id=__codelineno-5-15 name=__codelineno-5-15 href=#__codelineno-5-15></a><span class=w>                    </span><span class=nt>tune</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">home/amzn_sfx_doorbell_chime_02</span>
</span><span id=__span-5-16><a id=__codelineno-5-16 name=__codelineno-5-16 href=#__codelineno-5-16></a><span class=w>                    </span><span class=c1># entity_id list defaults to `target` of method default or action call</span>
</span><span id=__span-5-17><a id=__codelineno-5-17 name=__codelineno-5-17 href=#__codelineno-5-17></a><span class=w>                    </span><span class=c1># this entry can also be shortcut as `media_player: home/amzn_sfx_doorbell_chime_02`</span>
</span><span id=__span-5-18><a id=__codelineno-5-18 name=__codelineno-5-18 href=#__codelineno-5-18></a><span class=w>                </span><span class=nt>media_player_alt</span><span class=p>:</span>
</span><span id=__span-5-19><a id=__codelineno-5-19 name=__codelineno-5-19 href=#__codelineno-5-19></a><span class=w>                    </span><span class=c1># Not all the media players are Amazon Alexa based, so override for other flavours</span>
</span><span id=__span-5-20><a id=__codelineno-5-20 name=__codelineno-5-20 href=#__codelineno-5-20></a><span class=w>                    </span><span class=nt>tune</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">raindrops_and_roses.mp4</span>
</span><span id=__span-5-21><a id=__codelineno-5-21 name=__codelineno-5-21 href=#__codelineno-5-21></a><span class=w>                    </span><span class=nt>target</span><span class=p>:</span>
</span><span id=__span-5-22><a id=__codelineno-5-22 name=__codelineno-5-22 href=#__codelineno-5-22></a><span class=w>                        </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">media_player.hall_custom</span>
</span><span id=__span-5-23><a id=__codelineno-5-23 name=__codelineno-5-23 href=#__codelineno-5-23></a><span class=w>                </span><span class=nt>switch</span><span class=p>:</span>
</span><span id=__span-5-24><a id=__codelineno-5-24 name=__codelineno-5-24 href=#__codelineno-5-24></a><span class=w>                    </span><span class=c1># resolves to switch/turn_on with entity id switch.ding_dong</span>
</span><span id=__span-5-25><a id=__codelineno-5-25 name=__codelineno-5-25 href=#__codelineno-5-25></a><span class=w>                    </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">switch.chime_ding_dong</span>
</span><span id=__span-5-26><a id=__codelineno-5-26 name=__codelineno-5-26 href=#__codelineno-5-26></a><span class=w>                </span><span class=nt>siren_except_bedroom</span><span class=p>:</span>
</span><span id=__span-5-27><a id=__codelineno-5-27 name=__codelineno-5-27 href=#__codelineno-5-27></a><span class=w>                    </span><span class=c1># resolves to siren/turn_on with tune bleep and default volume/duration</span>
</span><span id=__span-5-28><a id=__codelineno-5-28 name=__codelineno-5-28 href=#__codelineno-5-28></a><span class=w>                    </span><span class=nt>tune</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">bleep</span>
</span><span id=__span-5-29><a id=__codelineno-5-29 name=__codelineno-5-29 href=#__codelineno-5-29></a><span class=w>                    </span><span class=nt>domain</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">siren</span><span class=w> </span><span class=c1># domain must be explicit since key is label not domain and no explicit targets</span>
</span><span id=__span-5-30><a id=__codelineno-5-30 name=__codelineno-5-30 href=#__codelineno-5-30></a><span class=w>                </span><span class=nt>siren_bedroom</span><span class=p>:</span>
</span><span id=__span-5-31><a id=__codelineno-5-31 name=__codelineno-5-31 href=#__codelineno-5-31></a><span class=w>                    </span><span class=c1># short and quiet burst for just the bedroom siren</span>
</span><span id=__span-5-32><a id=__codelineno-5-32 name=__codelineno-5-32 href=#__codelineno-5-32></a><span class=w>                    </span><span class=nt>domain</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">siren</span>
</span><span id=__span-5-33><a id=__codelineno-5-33 name=__codelineno-5-33 href=#__codelineno-5-33></a><span class=w>                    </span><span class=nt>tune</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">bleep</span>
</span><span id=__span-5-34><a id=__codelineno-5-34 name=__codelineno-5-34 href=#__codelineno-5-34></a><span class=w>                    </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">siren.bedroom</span>
</span><span id=__span-5-35><a id=__codelineno-5-35 name=__codelineno-5-35 href=#__codelineno-5-35></a><span class=w>                    </span><span class=nt>volume</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">0.1</span>
</span><span id=__span-5-36><a id=__codelineno-5-36 name=__codelineno-5-36 href=#__codelineno-5-36></a><span class=w>                    </span><span class=nt>duration</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
</span><span id=__span-5-37><a id=__codelineno-5-37 name=__codelineno-5-37 href=#__codelineno-5-37></a><span class=w>                </span><span class=nt>script</span><span class=p>:</span>
</span><span id=__span-5-38><a id=__codelineno-5-38 name=__codelineno-5-38 href=#__codelineno-5-38></a><span class=w>                    </span><span class=nt>target</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">script.pull_bell_cord</span>
</span><span id=__span-5-39><a id=__codelineno-5-39 name=__codelineno-5-39 href=#__codelineno-5-39></a><span class=w>                    </span><span class=nt>data</span><span class=p>:</span>
</span><span id=__span-5-40><a id=__codelineno-5-40 name=__codelineno-5-40 href=#__codelineno-5-40></a><span class=w>                      </span><span class=nt>variables</span><span class=p>:</span>
</span><span id=__span-5-41><a id=__codelineno-5-41 name=__codelineno-5-41 href=#__codelineno-5-41></a><span class=w>                        </span><span class=nt>duration</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">25</span>
</span><span id=__span-5-42><a id=__codelineno-5-42 name=__codelineno-5-42 href=#__codelineno-5-42></a>
</span><span id=__span-5-43><a id=__codelineno-5-43 name=__codelineno-5-43 href=#__codelineno-5-43></a><span class=w>              </span><span class=nt>red_alert</span><span class=p>:</span>
</span><span id=__span-5-44><a id=__codelineno-5-44 name=__codelineno-5-44 href=#__codelineno-5-44></a><span class=w>                </span><span class=c1># non-dict defaults to a dict with a single key `tune`</span>
</span><span id=__span-5-45><a id=__codelineno-5-45 name=__codelineno-5-45 href=#__codelineno-5-45></a><span class=w>                </span><span class=nt>alexa_devices</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">scifi/amzn_sfx_scifi_alarm_04</span>
</span><span id=__span-5-46><a id=__codelineno-5-46 name=__codelineno-5-46 href=#__codelineno-5-46></a><span class=w>                </span><span class=nt>siren</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">emergency</span>
</span></code></pre></div> <p>With this chime config, a doorbell notification can be sent to multiple devices just by selecting a tune.</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>action</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">notify.supernotify</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=w>      </span><span class=nt>data</span><span class=p>:</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=w>        </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=s>&quot;&quot;</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=w>        </span><span class=nt>delivery</span><span class=p>:</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=w>            </span><span class=nt>chimes</span><span class=p>:</span>
</span><span id=__span-6-6><a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=w>                </span><span class=nt>data</span><span class=p>:</span>
</span><span id=__span-6-7><a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a><span class=w>                    </span><span class=nt>chime_tune</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">doorbell</span>
</span></code></pre></div> <h3 id=sms>SMS<a class=headerlink href=#sms title="Permanent link">&para;</a></h3> <p>This can work with any SMS notification integration by setting the <code>action</code> value to match, for example <code>action: notify.mikrotik_sms</code></p> <p>Uses the <code>phone_number</code> attribute of recipient, and truncates message to fit in an SMS.</p> <p>Since SMS sends a single message with no title, by default the message and title are combined into a single string prior to truncation. Use <code>title_handling</code> in an <code>options</code> section to change the behaviour, either message only or using the title in place of the message.</p> <h3 id=generic>Generic<a class=headerlink href=#generic title="Permanent link">&para;</a></h3> <p>Use to call any &lsquo;legacy&rsquo; Notification action (previously known in Home Assistant as &lsquo;service&rsquo; ), that is one not using the newer <code>NotifyEntity</code> model.</p> <p>If action is in <code>notify</code> domain, then <code>message</code>,<code>title</code>,<code>target</code> and <code>data</code> will be passed in the Action (Service) Data, otherwise the <code>data</code> supplied will be passed directly as the Action Data.</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>action</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">notify.supernotify</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=w>      </span><span class=nt>data</span><span class=p>:</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=w>        </span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=s>&quot;My</span><span class=nv> </span><span class=s>Home</span><span class=nv> </span><span class=s>Notification&quot;</span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=w>        </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Notify</span><span class=nv> </span><span class=s>via</span><span class=nv> </span><span class=s>custom</span><span class=nv> </span><span class=s>chat&quot;</span>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=w>        </span><span class=nt>delivery</span><span class=p>:</span>
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=w>            </span><span class=nt>chat_notify</span><span class=p>:</span>
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a><span class=w>                </span><span class=nt>data</span><span class=p>:</span>
</span><span id=__span-7-8><a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a><span class=w>                    </span><span class=nt>channel</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">3456</span>
</span><span id=__span-7-9><a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a><span class=w>    </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>action</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">notify.supernotify</span>
</span><span id=__span-7-10><a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a><span class=w>      </span><span class=nt>data</span><span class=p>:</span>
</span><span id=__span-7-11><a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a><span class=w>        </span><span class=nt>delivery</span><span class=p>:</span>
</span><span id=__span-7-12><a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a><span class=w>            </span><span class=nt>mqtt_notify</span><span class=p>:</span>
</span><span id=__span-7-13><a id=__codelineno-7-13 name=__codelineno-7-13 href=#__codelineno-7-13></a><span class=w>                </span><span class=nt>data</span><span class=p>:</span>
</span><span id=__span-7-14><a id=__codelineno-7-14 name=__codelineno-7-14 href=#__codelineno-7-14></a><span class=w>                  </span><span class=nt>topic</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">alert/family_all</span>
</span><span id=__span-7-15><a id=__codelineno-7-15 name=__codelineno-7-15 href=#__codelineno-7-15></a><span class=w>                  </span><span class=nt>payload</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">something happened</span>
</span></code></pre></div> <h3 id=email>Email<a class=headerlink href=#email title="Permanent link">&para;</a></h3> <p>Can be used for plain or HTML template emails, and handle images as attachments or embedded HTML.</p> <p>Also supports <code>message_html</code> override to supply html that will be ignored for other notification types, and does not require templates. In this case, HTML will automatically be tagged onto the end to include any attached images.</p> <h3 id=media-image>Media Image<a class=headerlink href=#media-image title="Permanent link">&para;</a></h3> <p>Show an image on a media player, e.g. an Alexa Show ( where that actually works, depending on model )</p> <h3 id=alexa>Alexa<a class=headerlink href=#alexa title="Permanent link">&para;</a></h3> <p>Announce, or speak, a notification using Home Assistant&rsquo;s built-in <em>Alexa Devices</em> integration.</p> <p>The <code>title_handling</code> option can be set to <code>combine_message</code> or <code>replace_message</code> to override the default behaviour of speaking the <code>message</code>.</p> <p><em>Note</em> Home Assistant recommend sending multiple notifications to an <a href="https://www.amazon.co.uk/gp/help/customer/display.html?nodeId=GS8URL9U6PW8SPTA">Alexa Device Group</a>, rather than an explicit list of Alexa devices, to minimize the likelihood of Amazon rate-limiting API calls. Home Assistant managed groups work for announcements, but not speaking, and don&rsquo;t have the API efficiency of Alexa&rsquo;s own groups.</p> <p>When speaking, <a href=https://developer.amazon.com/en-US/docs/alexa/custom-skills/speech-synthesis-markup-language-ssml-reference.html>SSML</a> is available, for example:</p> <ul> <li><code>&lt;say-as interpret-as="interjection"&gt;bah humbug&lt;/say-as&gt;</code></li> <li><code>&lt;say-as interpret-as='spell-out'&gt;hello&lt;/say-as&gt;</code></li> <li><code>&lt;amazon:emotion name="excited" intensity="high"&gt;Activity at front door!&lt;/amazon:emotion&gt;</code></li> <li><code>&lt;amazon:effect name='whispered'&gt;Just a low priority notification&lt;/amazon:effect&gt;</code></li> <li><code>&lt;prosody rate='x-slow'&gt;Saying this slowly&lt;/prosody&gt;</code></li> <li><code>&lt;voice name='Geraint'&gt;hello I'm from Abergavenny&lt;/voice&gt;</code></li> <li><code>&lt;say-as interpret-as='date'&gt;????0922&lt;/say-as&gt;</code> ( will read as &lsquo;September 22nd&rsquo; )</li> </ul> <h3 id=alexa-media-player_1>Alexa Media Player<a class=headerlink href=#alexa-media-player_1 title="Permanent link">&para;</a></h3> <p>Announce a message on an Alexa Echo device using the <a href=https://github.com/alandtse/alexa_media_player><code>alexa_media_player</code></a> integration available via <a href=https://www.hacs.xyz>HACS</a>.</p> <p>The <code>title_handling</code> option can be set to <code>combine_message</code> or <code>replace_message</code> to override the default behaviour of speaking the <code>message</code>.</p> <h3 id=persistent>Persistent<a class=headerlink href=#persistent title="Permanent link">&para;</a></h3> <p>Place a notification on Home Assistant application screen.</p> <p>Pass a notification ID</p> <h2 id=media-support>Media support<a class=headerlink href=#media-support title="Permanent link">&para;</a></h2> <p>Images can be included by:</p> <ul> <li>camera entity, as created by any <a href=https://www.home-assistant.io/integrations/camera/ >Camera Integration</a></li> <li>image entity, for example an <a href=https://www.home-assistant.io/integrations/image.mqtt/ >MQTT Image</a>, ideal for Frigate or cameras that stream to MQTT</li> <li><code>snapshot_url</code></li> </ul> <p>Additionally a video clip can be referenced by <code>clip_url</code> where supported by a delivery method (currently mobile push only).</p> <p>An optional PTZ preset can also be referenced in <code>data</code>, a PTZ delay before snapshot taken, and a choice of <code>onvif</code> or <code>frigate</code> for the PTZ control. After the snap, an additional PTZ will be commanded to return to the <code>ptz_default_preset</code> defined for the camera.This image will taken once and then reused across all supporting delivery methods.</p> <p>Some cameras, like Hikvision, add JPEG comment blocks which confuse the very simplistic media detection in the SMTP integration, and leads to spurious log entries. Supernotify will automatically rewrite JPEGs into simpler standard forms to avoid this, and optionally <code>jpeg_opts</code> can be set, for example to reduce image quality for smaller email attachments. See the <em>Saving</em> section under <strong>JPEG</strong> on the [PIL Image Writer documentation[(https://pillow.readthedocs.io/en/stable/handbook/image-file-formats.html#)] for the full set of options available.</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=w> </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>action</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">notify.supernotify</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=w>      </span><span class="l l-Scalar l-Scalar-Plain">data</span><span class="p p-Indicator">:</span>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=w>        </span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=s>&quot;My</span><span class=nv> </span><span class=s>Home</span><span class=nv> </span><span class=s>Notification&quot;</span>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=w>        </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=s>&quot;Notify</span><span class=nv> </span><span class=s>with</span><span class=nv> </span><span class=s>image</span><span class=nv> </span><span class=s>snapshot</span><span class=nv> </span><span class=s>taking</span><span class=nv> </span><span class=s>close-up</span><span class=nv> </span><span class=s>of</span><span class=nv> </span><span class=s>vehicle</span><span class=nv> </span><span class=s>on</span><span class=nv> </span><span class=s>driveway&quot;</span>
</span><span id=__span-8-5><a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=w>        </span><span class=nt>delivery</span><span class=p>:</span>
</span><span id=__span-8-6><a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a><span class=w>            </span><span class=nt>data</span><span class=p>:</span>
</span><span id=__span-8-7><a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a><span class=w>                </span><span class=nt>media</span><span class=p>:</span>
</span><span id=__span-8-8><a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a><span class=w>                    </span><span class=nt>camera_entity_id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">camera.driveway</span>
</span><span id=__span-8-9><a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a><span class=w>                    </span><span class=nt>camera_ptz_preset</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">closeup</span>
</span><span id=__span-8-10><a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a><span class=w>                    </span><span class=nt>camera_delay</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">10</span>
</span><span id=__span-8-11><a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a><span class=w>                    </span><span class=nt>jpeg_opts</span><span class=p>:</span>
</span><span id=__span-8-12><a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a><span class=w>                      </span><span class=nt>progressive</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id=__span-8-13><a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a><span class=w>                      </span><span class=nt>optimize</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span id=__span-8-14><a id=__codelineno-8-14 name=__codelineno-8-14 href=#__codelineno-8-14></a><span class=w>                      </span><span class=nt>quality</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">50</span>
</span></code></pre></div> <h2 id=flexible-configuration>Flexible Configuration<a class=headerlink href=#flexible-configuration title="Permanent link">&para;</a></h2> <p>Delivery configuration can be done in lots of different ways to suit different configurations and to keep those configuration as minimal as possible.</p> <p>Priority order of application</p> <table> <thead> <tr> <th>Where</th> <th>When</th> <th>Notes</th> </tr> </thead> <tbody> <tr> <td>Action Data</td> <td>Runtime call</td> <td></td> </tr> <tr> <td>Recipient delivery override</td> <td>Runtime call</td> <td></td> </tr> <tr> <td>Scenario delivery override</td> <td>Runtime call</td> <td>Multiple scenarios applied in no special order</td> </tr> <tr> <td>Delivery definition</td> <td>Startup</td> <td><code>message</code> and <code>title</code> override Action Data</td> </tr> <tr> <td>Method defaults</td> <td>Startup</td> <td></td> </tr> <tr> <td>Target notification action defaults</td> <td>Downstream call</td> <td></td> </tr> </tbody> </table> <ol> <li>Action Data passed at runtime call</li> <li>Recipient delivery override</li> <li>Scenario delivery override</li> <li>Delivery definition</li> <li>Method defaults</li> <li>Target notification action defaults, e.g. mail recipients ( this isn&rsquo;t applied inside Supernotify )</li> </ol> <h2 id=setup>Setup<a class=headerlink href=#setup title="Permanent link">&para;</a></h2> <p>Register this GitHub repo as a custom repo in your <a href=https://hacs.xyz>HACS</a> configuration.</p> <p>Configure in the main Home Assistant config yaml, or an included notify.yaml</p> <p>See <code>examples</code> directory for working minimal and maximal configuration examples.</p> <h3 id=cameras>Cameras<a class=headerlink href=#cameras title="Permanent link">&para;</a></h3> <p>Use this for additional camera info:</p> <ul> <li>Link a <code>device_tracker</code> to the camera</li> <li>Notifications will first check its online, then use an alternative if primary is down</li> <li>Define alternative cameras to use if first fails using <code>alt_camera</code></li> <li>For ONVIF or Frigate cameras set up for PTZ</li> <li>Home preset can be defined using <code>ptz_default_preset</code> so camera can be reset after taking a snapshot</li> <li>Delay between PTZ command and snapshot can be defined using <code>ptz_delay</code></li> <li>Choose between ONVIF or Frigate PTZ control using <code>ptz_method</code><ul> <li>Note that ONVIF may have numeric reference for presets while Frigate uses labels</li> </ul> </li> </ul> <h2 id=delivery-method-options>Delivery Method Options<a class=headerlink href=#delivery-method-options title="Permanent link">&para;</a></h2> <p>All of these set by passing an <code>options</code> block in Delivery config or Method defaults.</p> <table> <thead> <tr> <th>Option</th> <th>Methods</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>chime_aliases</td> <td>chime</td> <td>Map tunes to device name or config</td> </tr> <tr> <td>jpeg_opts</td> <td>mail</td> <td>Tune image grabs</td> </tr> <tr> <td>title_handling</td> <td>all</td> <td>Use title rather than message, or combined title and message</td> </tr> <tr> <td>timestamp</td> <td>all</td> <td>Add a timestamp to message.</td> </tr> </tbody> </table> <p><code>jpeg_opts</code> can also be set per runtime call by passing in the <code>media</code> block.</p> <h2 id=snoozing>Snoozing<a class=headerlink href=#snoozing title="Permanent link">&para;</a></h2> <p>Snoozing can be done for a set time, or notifications can be silenced until further notice ( or currently until reboot ).</p> <h3 id=mobile-actions>Mobile Actions<a class=headerlink href=#mobile-actions title="Permanent link">&para;</a></h3> <p>Mobile actions will be handled according to scheme:</p> <p>SUPERNOTIFY_<command><em><targettype></em></p> <h2 id=scenarios>Scenarios<a class=headerlink href=#scenarios title="Permanent link">&para;</a></h2> <p>Scenarios can be defined both as a set of conditions which switch on the scenario and/or as a set of overrides to apply if the scenario is active.</p> <p>For example, a scenario could be defined by conditions such as alarm panel arm state, occupancy and time to indicate when notifications should be minimized, and then different chime sounds could be selected or deliveries switched off.</p> <p>Scenarios can override specific delivery configurations, general media configuration (such as setting a camera, or specifying which alert sound to use for a mobile push ). A scenario have a default <code>delivery_selection</code> basis of <code>implicit</code>, where the scenario inherits all the default deliveries, or have this switched off by overriding <code>delivery_selection</code> to <code>explicit</code> in which case only the deliveries mentioned in the scenario are included.</p> <p>For more on the conditions, see the <a href=https://www.home-assistant.io/docs/scripts/conditions/ > Home Assistant Conditions documentation</a> since the conditions are all evaluated at time of notification by the standard Home Assistant module.</p> <h3 id=example-scenarios>Example Scenarios<a class=headerlink href=#example-scenarios title="Permanent link">&para;</a></h3> <p>This scenario could be used to select more obtrusive notifications, like email or Alexa announcements, from a combination of conditions, hence simplifying separate notification calls, and providing one place to tune multiple notifications.</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=nt>more_attention</span><span class=p>:</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=w>        </span><span class=nt>alias</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">time to make more of a fuss</span>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=w>        </span><span class=nt>condition</span><span class=p>:</span>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=w>          </span><span class=nt>condition</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">and</span>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=w>          </span><span class=nt>conditions</span><span class=p>:</span>
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>not</span><span class=p>:</span>
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a><span class=w>                </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>condition</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">state</span>
</span><span id=__span-9-8><a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a><span class=w>                  </span><span class=nt>entity_id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">alarm_control_panel.home_alarm_control</span>
</span><span id=__span-9-9><a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a><span class=w>                  </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">disarmed</span>
</span><span id=__span-9-10><a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a><span class=w>            </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>condition</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">time</span>
</span><span id=__span-9-11><a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a><span class=w>              </span><span class=nt>after</span><span class=p>:</span><span class=w> </span><span class=s>&quot;21:30:00&quot;</span>
</span><span id=__span-9-12><a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a><span class=w>              </span><span class=nt>before</span><span class=p>:</span><span class=w> </span><span class=s>&quot;06:30:00&quot;</span>
</span></code></pre></div> <p>In this example, selecting the scenario by name in a notification call switches on a set of delivery methods, which saves repetitive declaration in many notification calls. Delivery Selection is made <code>implicit</code> so not switching off any other deliveries that would have applied.</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=nt>red_alert</span><span class=p>:</span>
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a><span class=w>      </span><span class=nt>delivery_selection</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">implicit</span>
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a><span class=w>      </span><span class=nt>delivery</span><span class=p>:</span>
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a><span class=w>        </span><span class=nt>chime_red_alert</span><span class=p>:</span>
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a><span class=w>        </span><span class=nt>upstairs_siren</span><span class=p>:</span>
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a><span class=w>        </span><span class=nt>downstairs_siren</span><span class=p>:</span>
</span><span id=__span-10-7><a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a><span class=w>      </span><span class=nt>media</span><span class=p>:</span>
</span><span id=__span-10-8><a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a><span class=w>        </span><span class=nt>camera_entity_id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">camera.porch</span>
</span></code></pre></div> <p>Delivery selection can also be passed in the <code>data</code> of an action call, in which case it can also be <code>fixed</code>, which disables scenarios from enabling or disabling deliveries and leaves it solely to defaults or what&rsquo;s listed in the action call.</p> <p>Conditions aren&rsquo;t essential for scenarios, since they can also be switched on by a notification.</p> <p>For example in this case, where the <code>home_security</code> and <code>garden</code> scenarios are explicitly triggered, and so any overrides declared in those scenarios will be applied. The <code>constrain_scenarios</code> prevents any scenario other than <code>unoccupied</code> or the ones explicitly applied here ( to switch off all other scenarios, use <code>NULL</code>).</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>action</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">notify.supernotifier</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a><span class=w>    </span><span class=nt>data</span><span class=p>:</span>
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a><span class=w>        </span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Security Notification</span>
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a><span class=w>        </span><span class=nt>message</span><span class=p>:</span><span class=w> </span><span class=s>&#39;{{state_attr(sensor,&quot;friendly_name&quot;)}}</span><span class=nv> </span><span class=s>triggered&#39;</span>
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a><span class=w>        </span><span class=nt>priority</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">high</span>
</span><span id=__span-11-6><a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a><span class=w>        </span><span class=nt>apply_scenarios</span><span class=p>:</span>
</span><span id=__span-11-7><a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a><span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">home_security</span>
</span><span id=__span-11-8><a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a><span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">garden</span>
</span><span id=__span-11-9><a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a><span class=w>        </span><span class=nt>constrain_scenarios</span><span class=p>:</span>
</span><span id=__span-11-10><a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a><span class=w>          </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">unoccupied</span>
</span></code></pre></div> <p>Individual deliveries can be overridden, including the content of the messages using <code>message_template</code> and <code>title_template</code>. The templates are regular HomeAssistant <code>jinja2</code>, and have the same context variables available as the scenario conditions (see below ). In the example below, Alexa can be made to whisper easily without having to mess with the text of every notification, and this scenario could also have conditions applied, for example to all low priority messages at night.</p> <div class="language-yaml highlight"><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=w>  </span><span class=nt>scenarios</span><span class=p>:</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a><span class=w>    </span><span class=nt>emotional</span><span class=p>:</span>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=w>      </span><span class=nt>delivery</span><span class=p>:</span>
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a><span class=w>        </span><span class=nt>alexa</span><span class=p>:</span>
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a><span class=w>          </span><span class=nt>data</span><span class=p>:</span>
</span><span id=__span-12-6><a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a><span class=w>            </span><span class=nt>title_template</span><span class=p>:</span><span class=w> </span><span class=s>&#39;&lt;amazon:emotion</span><span class=nv> </span><span class=s>name=&quot;excited&quot;</span><span class=nv> </span><span class=s>intensity=&quot;medium&quot;&gt;{{notification_message}}&lt;/amazon:emotion&gt;&#39;</span>
</span></code></pre></div> <p>Multiple scenarios can be applied, in the order provided, and each template will be applied in turn to the results of the previous template. So in the example below, you could apply both the <em>whisper</em> and <em>emotion</em> Amazon Alexa markup to the same message, or add in some sound effects based on any of the conditions.</p> <p>A blank <code>message_template</code> or <code>title_template</code> can also be used to selectively switch off one of those fields for a particular delivery, for example when sending a notification out via email, push and Alexa announcement.</p> <h3 id=additional-variables-for-conditions>Additional variables for conditions<a class=headerlink href=#additional-variables-for-conditions title="Permanent link">&para;</a></h3> <p>Scenario and DeliveryMethod conditions have access to everything that any other Home Assistant conditions can access, such as entities, templating etc. In addition, Supernotify makes additional variables automatically available:</p> <table> <thead> <tr> <th>Template Variable</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>notification_priority</td> <td>Priority of current notification, explicitly selected or default</td> </tr> <tr> <td>notification_message</td> <td>Message of current notification</td> </tr> <tr> <td>notification_title</td> <td>Title of current notification</td> </tr> <tr> <td>applied_scenarios</td> <td>Scenarios explicitly selected in current notification call</td> </tr> <tr> <td>required_scenarios</td> <td>Scenarios a notification mandates to be enabled or else suppressed</td> </tr> <tr> <td>constrain_scenarios</td> <td>Restricted list of scenarios</td> </tr> <tr> <td>occupancy</td> <td>One or more occupancy states, e.g. ALL_HOME, LONE_HOME</td> </tr> </tbody> </table> <h2 id=tips>Tips<a class=headerlink href=#tips title="Permanent link">&para;</a></h2> <h3 id=message-formatting>Message formatting<a class=headerlink href=#message-formatting title="Permanent link">&para;</a></h3> <p>To send a glob of html to include in email, set <code>message_html</code> in action data. This will be ignored by other delivery methods that don&rsquo;t handle email. This can be also be used to have a notification with only a title ( that gets picked up for mobile push, alexa and other brief communications ) with a much more detailed body only for email.</p> <p>Use <code>data_template</code> to build the <code>data</code> dictionary with Jinja2 logic from automations or scripts.</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": ".", "features": ["content.code.copy", "content.code.select", "content.code.annotate"], "search": "assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=assets/javascripts/bundle.f55a23d4.min.js></script> <script src=assets/mkdocs_pagetree_plugin.js></script> </body> </html>